<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kartly - Monitors</title>
    <link rel="stylesheet" href="category.css" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet" />
</head>

<body>
    <!-- Navbar -->
    <header class="navbar">
        <div class="logo">KARTLY</div>
        <div class="nav-center">
            <input type="text" placeholder="Search for products, brands and more" id="search-box" />
        </div>
        <div class="nav-links">
            <a href="login.html">Login</a>
            <a href="#">Your Order</a>
            <a href="index.html">Home</a>
            <a id="cart-icon" href="cart.html">ðŸ›’ Cart (<span id="cart-count">0</span>)</a>
        </div>
    </header>


    <!-- Product List Section -->
    <section class="category-section">
        <h2 class="category-title">Monitors</h2>

        <div class="product-list">

            <div class="product-card-horizontal">
                <img src="images/monitor.jpg" alt="Monitor">
                <div class="product-details">
                    <h3>Samsung Curved Monitor</h3>
                    <p>27-inch curved display, Full HD, 75Hz refresh rate with vibrant color and eye-saver mode.</p>
                    <p class="price">â‚¹12,999</p>
                    <div class="product-buttons">
                        <button class="buy-now">Buy Now</button>
                        <button class="add-to-cart">Add to Cart</button>
                    </div>
                </div>
            </div>

            <div class="product-card-horizontal">
                <img src="https://via.placeholder.com/160x120" alt="Monitor">
                <div class="product-details">
                    <h3>LG UltraGear Gaming Monitor</h3>
                    <p>24-inch IPS panel, 144Hz refresh rate, 1ms response time, ideal for gaming.</p>
                    <p class="price">â‚¹15,499</p>
                    <div class="product-buttons">
                        <button class="buy-now">Buy Now</button>
                        <button class="add-to-cart">Add to Cart</button>
                    </div>
                </div>
            </div>

            <!-- Add more product cards similarly -->

        </div>
    </section>

    <script>
        const cartCountElement = document.getElementById("cart-count");

        function updateCartCount() {
            const cart = JSON.parse(localStorage.getItem("cart")) || [];
            let count = 0;
            cart.forEach(item => {
                count += item.quantity || 1;
            });
            cartCountElement.innerText = count;
        }

        function addToCart(product) {
            let cart = JSON.parse(localStorage.getItem("cart")) || [];

            const existing = cart.find(item => item.id === product.id);
            if (existing) {
                existing.quantity += 1;
            } else {
                cart.push({ ...product, quantity: 1 });
            }

            localStorage.setItem("cart", JSON.stringify(cart));
            updateCartCount();
            function showToast(message) {
                const toast = document.getElementById("toast");
                toast.textContent = message;
                toast.className = "toast show";

                setTimeout(() => {
                    toast.className = "toast";
                }, 2000);
            }
            // Inside addToCart() after updating cart
            showToast(`${product.name} added to cart!`);

        }

        // Example hardcoded product data â€” update index or fetch dynamically
        const productData = [
            {
                id: 1,
                name: "Samsung Curved Monitor",
                price: 12999,
                image: "monitor.jpg"
            },
            {
                id: 2,
                name: "LG UltraGear Gaming Monitor",
                price: 15499,
                image: "https://via.placeholder.com/160x120"
            }
        ];

        document.addEventListener("DOMContentLoaded", () => {
            // Bind each button click to its product
            const buttons = document.querySelectorAll(".add-to-cart");
            buttons.forEach((btn, index) => {
                btn.addEventListener("click", () => {
                    addToCart(productData[index]);
                });
            });
            // Buy Now buttons
            const buyButtons = document.querySelectorAll(".buy-now");
            buyButtons.forEach((btn, index) => {
                btn.addEventListener("click", () => {
                    const product = productData[index];
                    localStorage.setItem("buyNowProduct", JSON.stringify(product));
                    window.location.href = "order.html";
                });
            });


            // Update cart count when page loads
            updateCartCount();
        });


    </script>
    <div id="toast" class="toast">Item added to cart!</div>

</body>

</html>